apply plugin: 'com.android.library'

android {
    compileSdkVersion 30
    buildToolsVersion "30.0.3"

    defaultConfig {
        minSdkVersion 19
        targetSdkVersion 30
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    flavorDimensions 'testing'
    productFlavors {
        stable {
            dimension 'testing'
        }
        experimental {
            dimension 'testing'
        }
        dev {
            dimension 'testing'
        }
    }
    namespace 'org.openobservatory.engine'
}

dependencies {
    // For the stable and dev app flavours we're using the library
    // build published at Maven Central.
    stableImplementation 'org.ooni:oonimkall:2023.03.16-173249'
    devImplementation 'org.ooni:oonimkall:2023.03.16-173249'

    // For the experimental flavour, you need to compile your own
    // oonimkall.aar and put it into the ../engine-experimental dir
    experimentalImplementation project(":engine-experimental")
}
